const playButton=document.getElementById("playButton"),nextButton=document.getElementById("nextButton"),playAgainButton=document.getElementById("playAgainButton"),mainSection=document.querySelector("main"),quizInfo=document.querySelector(".quiz-info"),questionNumber=document.getElementById("questionNumber"),questionHeader=document.getElementById("questionHeader"),answerOptions=document.getElementById("answerOptions"),userNameInput=document.getElementById("userName"),userNameCertificate=document.getElementById("userNameCertificate"),resultSection=document.querySelector(".result"),scoreText=document.getElementById("score"),certificateContainer=document.querySelector(".certificate-container"),dateText=document.getElementById("dateText"),finishText=document.getElementById("finish"),uncompletedText=document.getElementById("uncompleted"),backDrop=document.getElementById("backdrop"),downloadCert=document.getElementById("captureButton");let timerId,countdownInterval,timeLeft=20,isQuizSession=!1,currentQuestion=0,score=0;const resultImage=document.querySelector(".result-image"),confettiAnimation=document.querySelector(".confetti"),randomFinishTexts=["Congratulations! All of your answers are correct!","Well done! You got all the answers right!","Great job! You have successfully completed the challenge!","You did it! All of your answers are correct!","Excellent work! You've completed the challenge with flying colors!","Bravo! You've successfully answered all the questions!","Fantastic! You've mastered the challenge!","Impressive! You've successfully completed the challenge!","Awesome! You aced all the questions!","Amazing job! You've completed the challenge flawlessly!"],randomTexts=["Oh dear, unfortunately, you couldn't answer all the questions. Good luck next time!","Oops! You didn't manage to answer all the questions. Better luck next time!","Oh no! You missed some questions. Keep learning and good luck for your next attempt!","Almost there, but not quite! Keep practicing and good luck for the next quiz!","Not quite a perfect score, but don't give up! Good luck for your future quizzes!","Nice effort, but some questions got away. Keep learning and good luck next time!","Not quite there yet! Keep going, you'll do better next time! Good luck!","You're almost there! Keep trying, and good luck for your next quiz!"],randomImageURLs=["/game/newjeansquiz/img/njquiz1.jpg","/game/newjeansquiz/img/njquiz2.jpg","/game/newjeansquiz/img/njquiz3.jpg","/game/newjeansquiz/img/njquiz4.jpg","/game/newjeansquiz/img/njquiz5.jpg"],questions=[{question:"What is NewJeans' fandom name?",answers:["Bunnies","Leggings","Denims","Rabbits"],correctAnswer:"Bunnies"},{question:"Who is the oldest member of NewJeans?",answers:["Hanni","Minji","Haerin","Hyein"],correctAnswer:"Minji"},{question:"Who is the youngest member of NewJeans?",answers:["Hanni","Minji","Hyein","Danielle"],correctAnswer:"Hyein"},{question:"Who is the leader of NewJeans?",answers:["Minji","Hanni","Nobody","Danielle"],correctAnswer:"Nobody"},{question:"Which one is not a song by NewJeans?",answers:["Hurt","Cookie","Get Up","Spicy"],correctAnswer:"Spicy"},{question:"'Oh, my, oh, my God, danneoppuniya' is the title of which song?",answers:["Supershy","Cool With You","ASAP","OMG"],correctAnswer:"OMG"},{question:"How many members are there in NewJeans?",answers:["4","5","6","7"],correctAnswer:"5"},{question:"What generation of K-pop is NewJeans from?",answers:["2","3","5","4"],correctAnswer:"4"},{question:"What is NewJeans' debut song?",answers:["Attention","Hype Boy","Cookie","Hurt"],correctAnswer:"Attention"},{question:"Which one is not a member of NewJeans?",answers:["Hanni","Hyein","Minji","Danila"],correctAnswer:"Danila"}];function showRandomFinishText(){const e=Math.floor(Math.random()*randomFinishTexts.length),t=randomFinishTexts[e],n=document.getElementById("finish");n.textContent=t,n.style.display="block"}function showRandomText(){const e=Math.floor(Math.random()*randomTexts.length),t=randomTexts[e];document.getElementById("uncompleted").textContent=t,uncompletedText.style.display="block"}function showRandomImage(){const e=Math.floor(Math.random()*randomImageURLs.length),t=randomImageURLs[e],n=document.querySelector(".result-image"),o=document.querySelector(".result-image-container");n.src=t,o.style.display="block"}function shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}function shuffleQuestionsAndAnswers(){shuffleArray(questions);for(const e of questions)shuffleArray(e.answers)}function startTimer(){timerId=setInterval((function(){timeLeft--,timeLeft>=0?document.getElementById("timer").textContent=`Time left: ${timeLeft}`:(clearInterval(timerId),showNextModal())}),1e3)}shuffleQuestionsAndAnswers();const overlay=document.getElementById("overlay"),countdownElement=document.getElementById("countdown");function startCountdown(){let e=3;backDrop.style.display="block",countdownElement.textContent=e,countdownInterval=setInterval((()=>{e--,countdownElement.textContent=e,1===e&&(countdownElement.textContent="Start!",countdownElement.style.color="#8C52FF"),0===e&&(clearInterval(countdownInterval),countdownElement.textContent="",overlay.style.display="none",quizInfo.style.display="none",mainSection.style.display="flex",nextButton.style.display="flex",backDrop.style.display="none",showQuestion(currentQuestion),isQuizSession=!0,startTimer())}),1e3)}function showNameModal(){const e=document.getElementById("nameModal");backDrop.style.display="block",e.style.display="block"}function showlengthModal(){document.getElementById("lengthModal").style.display="block",backDrop.style.display="block"}function showWarningModal(){document.getElementById("warningModal").style.display="block",backDrop.style.display="block"}function showNextModal(){clearInterval(countdownInterval),clearInterval(timerId);document.getElementById("nextModal").style.display="block",backDrop.style.display="block",timeLeft=20}function showCertificate(){certificateContainer.style.display="block",userNameCertificate.textContent=userNameInput.value;const e=(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});dateText.textContent=e}function showQuestion(e){const t=questions[e];questionNumber.textContent=`No : ${e+1}/${questions.length}`,questionHeader.textContent=t.question,answerOptions.innerHTML="",t.answers.forEach(((e,t)=>{const n=document.createElement("div");n.className="answer",n.innerHTML=`\n            <input type="radio" name="answer" id="answer${t+1}" value="${e}">\n            <label for="answer${t+1}">${e}</label>\n        `,answerOptions.appendChild(n)})),e===questions.length?(clearInterval(timerId),nextButton.style.display="none",playAgainButton.style.display="flex"):(nextButton.style.display="flex",playAgainButton.style.display="none")}function captureCertificate(){html2canvas(document.querySelector(".certificate-container"),{logging:!0,letterRendering:1,useCORS:!0,scale:3}).then((e=>{const t=e.toDataURL("image/png"),n=document.createElement("a");n.download="bunnies-certificate(hnnxzee@github.io).png",n.href=t,n.click()}))}document.getElementById("closeModal").addEventListener("click",(function(){document.getElementById("nameModal").style.display="none",backDrop.style.display="none"})),document.getElementById("closelengthWarning").addEventListener("click",(function(){document.getElementById("lengthModal").style.display="none",backDrop.style.display="none"})),document.getElementById("closeModalWarning").addEventListener("click",(function(){document.getElementById("warningModal").style.display="none",backDrop.style.display="none"})),playButton.addEventListener("click",(function(){const e=userNameInput.value.trim();""!==e?e.length>25?showlengthModal():(shuffleQuestionsAndAnswers(),overlay.style.display="flex",startCountdown()):showNameModal()})),document.getElementById("nextModalButton").addEventListener("click",(function(){document.getElementById("nextModal").style.display="none",backDrop.style.display="none",currentQuestion++,clearInterval(countdownInterval),currentQuestion<questions.length?(showQuestion(currentQuestion),startTimer()):(mainSection.style.display="none",resultSection.style.display="block",playAgainButton.style.display="flex",scoreText.textContent=`Score = ${score}`,showRandomText(),showRandomImage())})),window.addEventListener("beforeunload",(function(e){isQuizSession&&(e.preventDefault(),e.returnValue="")})),nextButton.addEventListener("click",(function(){const e=document.querySelector('input[name="answer"]:checked');if(e){const t=e.value,n=questions[currentQuestion].correctAnswer;timeLeft=20,t===n&&score++,currentQuestion++,currentQuestion<questions.length?showQuestion(currentQuestion):score===questions.length?(showCertificate(),showRandomFinishText(),mainSection.style.display="none",downloadCert.style.display="flex",playAgainButton.style.display="flex",isQuizSession=!1,clearInterval(timerId),clearInterval(countdownInterval),confettiAnimation.style.display="flex",initConfetti(),render()):(mainSection.style.display="none",resultSection.style.display="block",playAgainButton.style.display="flex",clearInterval(timerId),clearInterval(countdownInterval),scoreText.textContent=`Score = ${score}/${questions.length}`,showRandomText(),showRandomImage())}else showWarningModal()})),playAgainButton.addEventListener("click",(function(){isQuizSession=!1,location.reload()}));const captureButton=document.getElementById("captureButton");captureButton.addEventListener("click",captureCertificate);