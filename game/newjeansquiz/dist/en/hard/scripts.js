const playButton=document.getElementById("playButton"),nextButton=document.getElementById("nextButton"),playAgainButton=document.getElementById("playAgainButton"),mainSection=document.querySelector("main"),quizInfo=document.querySelector(".quiz-info"),questionNumber=document.getElementById("questionNumber"),questionHeader=document.getElementById("questionHeader"),answerOptions=document.getElementById("answerOptions"),userNameInput=document.getElementById("userName"),userNameCertificate=document.getElementById("userNameCertificate"),resultSection=document.querySelector(".result"),scoreText=document.getElementById("score"),certificateContainer=document.querySelector(".certificate-container"),dateText=document.getElementById("dateText"),finishText=document.getElementById("finish"),uncompletedText=document.getElementById("uncompleted"),backDrop=document.getElementById("backdrop"),downloadCert=document.getElementById("captureButton");let timerId,countdownInterval,timeLeft=20,isQuizSession=!1,currentQuestion=0,score=0;const resultImage=document.querySelector(".result-image"),confettiAnimation=document.querySelector(".confetti"),randomFinishTexts=["Congratulations! All of your answers are correct!","Well done! You got all the answers right!","Great job! You have successfully completed the challenge!","You did it! All of your answers are correct!","Excellent work! You've completed the challenge with flying colors!","Bravo! You've successfully answered all the questions!","Fantastic! You've mastered the challenge!","Impressive! You've successfully completed the challenge!","Awesome! You aced all the questions!","Amazing job! You've completed the challenge flawlessly!"],randomTexts=["Oh dear, unfortunately, you couldn't answer all the questions. Good luck next time!","Oops! You didn't manage to answer all the questions. Better luck next time!","Oh no! You missed some questions. Keep learning and good luck for your next attempt!","Almost there, but not quite! Keep practicing and good luck for the next quiz!","Not quite a perfect score, but don't give up! Good luck for your future quizzes!","Nice effort, but some questions got away. Keep learning and good luck next time!","Not quite there yet! Keep going, you'll do better next time! Good luck!","You're almost there! Keep trying, and good luck for your next quiz!"],randomImageURLs=["/game/newjeansquiz/img/njquiz1.jpg","/game/newjeansquiz/img/njquiz2.jpg","/game/newjeansquiz/img/njquiz3.jpg","/game/newjeansquiz/img/njquiz4.jpg","/game/newjeansquiz/img/njquiz5.jpg"],questions=[{question:"Whose birthdate is April 11, 2005?",answers:["Haerin","Danielle","Minji","Hyein"],correctAnswer:"Danielle"},{question:"What music video was released on December 19, 2022?",answers:["OMG","Hype Boy","Hurt","Ditto"],correctAnswer:"Ditto"},{question:"Who among the Newjeans members is classified as ISTP in MBTI?",answers:["Hanni","Minji","Hyein","Haerin"],correctAnswer:"Haerin"},{question:"Who is Ban Heeso?",answers:["ex-NewJeans member","ADOR's former CEO","Newjeans's songwriter","Bunnies Metaphor"],correctAnswer:"Bunnies Metaphor"},{question:"In the 'Cool With You' music video, who is the actor that appeared?",answers:["Tony Leung","Jungkook","Lee Seung-gi","Park Ji-Hu"],correctAnswer:"Tony Leung"},{question:"Which is not the 'NewJeans Pairing Name'?",answers:["Bbangsaz","Catnipz","Niniz","Bunnies"],correctAnswer:"Bunnies"},{question:"Who is the NewJeans member who covered the song 'Through the Night' at LeeMujin service?",answers:["Minji","Hanni","Danielle","Haerin"],correctAnswer:"Hanni"},{question:"What is the reason behind the name newjeans?",answers:["It refers to timeless fashion (jeans) and their intention for a timeless image. It's also a wordplay on 'new genes' symbolizing a new generation of pop music.","A reference to their love for denim clothing","Because its members have a preference for acquiring new jeans.","In reality, the significance of NewJeans is the reverse of its name, as they have a distinct feature that upholds traditional music genres."],correctAnswer:"It refers to timeless fashion (jeans) and their intention for a timeless image. It's also a wordplay on 'new genes' symbolizing a new generation of pop music."},{question:"Who is the Newjeans member featured in BTS's 'Permission to Dance' MV?",answers:["Minji-Danielle","Hanni-Haerin","Danielle-Hyein","Hanni-Minji"],correctAnswer:"Hanni-Minji"},{question:"Who is the Newjeans member that took part in writing the song 'Attention'?",answers:["Hanni","Hyein","Minji","Danielle"],correctAnswer:"Danielle"},{question:"From what country was the music video of SuperShy filmed?",answers:["Spain","South Korea","Portugal","Brazil"],correctAnswer:"Portugal"},{question:"'That's a movie bro. Excuse me.' is iconic line from?",answers:["Haerin","Hyein","Minji","Danielle"],correctAnswer:"Danielle"},{question:"Who does the emoji '🐻' represent?",answers:["Hanni","Hyein","Minji","Danielle"],correctAnswer:"Minji"},{question:"Which member of Newjeans has been appointed as the brand ambassador for Louis Vuitton?",answers:["Hanni","Hyein","Haerin","Danielle"],correctAnswer:"Hyein"},{question:"'Eolmadeunji gupji. Geureonde neo chungchi. Saenggyeodo nan molla' comes from what song?",answers:["Hurt","Cookie","ASAP","ETA"],correctAnswer:"Cookie"},{question:"Who is Ador's CEO?",answers:["Park Jiwon","Cheol Hyuk Jang","Min Hee-jin","Park Jin-young"],correctAnswer:"Min Hee-jin"},{question:"Which member of NewJeans has an affinity for playing the guitar and ukulele?",answers:["Haerin","Minji","Hanni","Hyein"],correctAnswer:"Hanni"},{question:"What is the name of the song from Newjeans that features a collaboration with Coke Studio?",answers:["ZeroJeans","Be Who You Are","Get Up","Hurt"],correctAnswer:"Be Who You Are"},{question:"Which Newjeans member played the voice role of Ariel in the Korean version of the film 'The Little Mermaid'?",answers:["Haerin","Hanni","Danielle","Hyein"],correctAnswer:"Danielle"},{question:"What is Bernice?",answers:["NewJeans bunny's name","NewJeans event's name","Phoning app's translation for 'Bunnies'","Affectionate calls between Bunnies to each other."],correctAnswer:"Phoning app's translation for 'Bunnies'"}];function showRandomFinishText(){const e=Math.floor(Math.random()*randomFinishTexts.length),n=randomFinishTexts[e],t=document.getElementById("finish");t.textContent=n,t.style.display="block"}function showRandomText(){const e=Math.floor(Math.random()*randomTexts.length),n=randomTexts[e];document.getElementById("uncompleted").textContent=n,uncompletedText.style.display="block"}function showRandomImage(){const e=Math.floor(Math.random()*randomImageURLs.length),n=randomImageURLs[e],t=document.querySelector(".result-image"),o=document.querySelector(".result-image-container");t.src=n,o.style.display="block"}function shuffleArray(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}}function shuffleQuestionsAndAnswers(){shuffleArray(questions);for(const e of questions)shuffleArray(e.answers)}function startTimer(){timerId=setInterval((function(){timeLeft--,timeLeft>=0?document.getElementById("timer").textContent=`Time left: ${timeLeft}`:(clearInterval(timerId),showNextModal())}),1e3)}shuffleQuestionsAndAnswers();const overlay=document.getElementById("overlay"),countdownElement=document.getElementById("countdown");function startCountdown(){let e=3;backDrop.style.display="block",countdownElement.textContent=e,countdownInterval=setInterval((()=>{e--,countdownElement.textContent=e,1===e&&(countdownElement.textContent="Start!",countdownElement.style.color="#8C52FF"),0===e&&(clearInterval(countdownInterval),countdownElement.textContent="",overlay.style.display="none",quizInfo.style.display="none",mainSection.style.display="flex",nextButton.style.display="flex",backDrop.style.display="none",showQuestion(currentQuestion),isQuizSession=!0,startTimer())}),1e3)}function showNameModal(){const e=document.getElementById("nameModal");backDrop.style.display="block",e.style.display="block"}function showlengthModal(){document.getElementById("lengthModal").style.display="block",backDrop.style.display="block"}function showWarningModal(){document.getElementById("warningModal").style.display="block",backDrop.style.display="block"}function showNextModal(){clearInterval(countdownInterval),clearInterval(timerId);document.getElementById("nextModal").style.display="block",backDrop.style.display="block",timeLeft=20}function showCertificate(){certificateContainer.style.display="block",userNameCertificate.textContent=userNameInput.value;const e=(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});dateText.textContent=e}function showQuestion(e){const n=questions[e];questionNumber.textContent=`No : ${e+1}/${questions.length}`,questionHeader.textContent=n.question,answerOptions.innerHTML="",n.answers.forEach(((e,n)=>{const t=document.createElement("div");t.className="answer",t.innerHTML=`\n            <input type="radio" name="answer" id="answer${n+1}" value="${e}">\n            <label for="answer${n+1}">${e}</label>\n        `,answerOptions.appendChild(t)})),e===questions.length?(clearInterval(timerId),nextButton.style.display="none",playAgainButton.style.display="flex"):(nextButton.style.display="flex",playAgainButton.style.display="none")}function captureCertificate(){html2canvas(document.querySelector(".certificate-container"),{logging:!0,letterRendering:1,useCORS:!0,scale:3}).then((e=>{const n=e.toDataURL("image/png"),t=document.createElement("a");t.download="bunnies-certificate(hnnxzee@github.io).png",t.href=n,t.click()}))}document.getElementById("closeModal").addEventListener("click",(function(){document.getElementById("nameModal").style.display="none",backDrop.style.display="none"})),document.getElementById("closelengthWarning").addEventListener("click",(function(){document.getElementById("lengthModal").style.display="none",backDrop.style.display="none"})),document.getElementById("closeModalWarning").addEventListener("click",(function(){document.getElementById("warningModal").style.display="none",backDrop.style.display="none"})),playButton.addEventListener("click",(function(){const e=userNameInput.value.trim();""!==e?e.length>25?showlengthModal():(shuffleQuestionsAndAnswers(),overlay.style.display="flex",startCountdown()):showNameModal()})),document.getElementById("nextModalButton").addEventListener("click",(function(){document.getElementById("nextModal").style.display="none",backDrop.style.display="none",currentQuestion++,clearInterval(countdownInterval),currentQuestion<questions.length?(showQuestion(currentQuestion),startTimer()):(mainSection.style.display="none",resultSection.style.display="block",playAgainButton.style.display="flex",scoreText.textContent=`Score = ${score}`,showRandomText(),showRandomImage())})),window.addEventListener("beforeunload",(function(e){isQuizSession&&(e.preventDefault(),e.returnValue="")})),nextButton.addEventListener("click",(function(){const e=document.querySelector('input[name="answer"]:checked');if(e){const n=e.value,t=questions[currentQuestion].correctAnswer;timeLeft=20,n===t&&score++,currentQuestion++,currentQuestion<questions.length?showQuestion(currentQuestion):score===questions.length?(showCertificate(),showRandomFinishText(),mainSection.style.display="none",downloadCert.style.display="flex",playAgainButton.style.display="flex",isQuizSession=!1,clearInterval(timerId),clearInterval(countdownInterval),confettiAnimation.style.display="flex",initConfetti(),render()):(mainSection.style.display="none",resultSection.style.display="block",playAgainButton.style.display="flex",clearInterval(timerId),clearInterval(countdownInterval),scoreText.textContent=`Score = ${score}/${questions.length}`,showRandomText(),showRandomImage())}else showWarningModal()})),playAgainButton.addEventListener("click",(function(){isQuizSession=!1,location.reload()}));const captureButton=document.getElementById("captureButton");captureButton.addEventListener("click",captureCertificate);