const playButton=document.getElementById("playButton"),nextButton=document.getElementById("nextButton"),playAgainButton=document.getElementById("playAgainButton"),mainSection=document.querySelector("main"),quizInfo=document.querySelector(".quiz-info"),questionNumber=document.getElementById("questionNumber"),questionHeader=document.getElementById("questionHeader"),answerOptions=document.getElementById("answerOptions"),userNameInput=document.getElementById("userName"),userNameCertificate=document.getElementById("userNameCertificate"),resultSection=document.querySelector(".result"),scoreText=document.getElementById("score"),certificateContainer=document.querySelector(".certificate-container"),dateText=document.getElementById("dateText"),finishText=document.getElementById("finish"),uncompletedText=document.getElementById("uncompleted"),backDrop=document.getElementById("backdrop"),downloadCert=document.getElementById("captureButton");let timerId,countdownInterval,timeLeft=20,isQuizSession=!1,currentQuestion=0,score=0;const resultImage=document.querySelector(".result-image"),confettiAnimation=document.querySelector(".confetti"),randomFinishTexts=["Congratulations! All of your answers are correct!","Well done! You got all the answers right!","Great job! You have successfully completed the challenge!","You did it! All of your answers are correct!","Excellent work! You've completed the challenge with flying colors!","Bravo! You've successfully answered all the questions!","Fantastic! You've mastered the challenge!","Impressive! You've successfully completed the challenge!","Awesome! You aced all the questions!","Amazing job! You've completed the challenge flawlessly!"],randomTexts=["Oh dear, unfortunately, you couldn't answer all the questions. Good luck next time!","Oops! You didn't manage to answer all the questions. Better luck next time!","Oh no! You missed some questions. Keep learning and good luck for your next attempt!","Almost there, but not quite! Keep practicing and good luck for the next quiz!","Not quite a perfect score, but don't give up! Good luck for your future quizzes!","Nice effort, but some questions got away. Keep learning and good luck next time!","Not quite there yet! Keep going, you'll do better next time! Good luck!","You're almost there! Keep trying, and good luck for your next quiz!"],randomImageURLs=["/game/newjeansquiz/img/njquiz1.jpg","/game/newjeansquiz/img/njquiz2.jpg","/game/newjeansquiz/img/njquiz3.jpg","/game/newjeansquiz/img/njquiz4.jpg","/game/newjeansquiz/img/njquiz5.jpg"],questions=[{question:"Non-Korean member of NewJeans?",answers:["Hanni","Haerin","Minji","Hyein"],correctAnswer:"Hanni"},{question:"Is it true or false that NewJeans comes from the HYBE under the ADOR Company?",answers:["False","True","There is no accurate answer.","Men's Fault"],correctAnswer:"False"},{question:"Who is the tallest member in NewJeans?",answers:["Hanni","Minji","Hyein","Haerin"],correctAnswer:"Hyein"},{question:"Who was born in 2006?",answers:["Haerin","Hanni","Danielle","Minji"],correctAnswer:"Haerin"},{question:"What is the birth name of Hanni?",answers:["Phạm Ngọc Anh","Phạm Ngọc Hân","Hân Thị Phạm","Lê Ngọc Hân"],correctAnswer:"Phạm Ngọc Hân"},{question:"What's Danielle Marsh's name in Korean?",answers:["Mo Jihye","Mo Jihyo","Kang Jihye","Kim Dani"],correctAnswer:"Mo Jihye"},{question:"What app does NewJeans commonly use for live streaming?",answers:["Instagram","Tiktok","Weverse","Phoning"],correctAnswer:"Phoning"},{question:"NewJeans' music video with Side A and Side B.",answers:["Cool With You","ASAP","OMG","Hurt"],correctAnswer:"Cool With You"},{question:"'Eoneusae yeoreum jina gaeul. Gidaryeotji all this time.' from which song is this lyric?",answers:["Ditto","ETA","New Jeans","Hype Boy"],correctAnswer:"Ditto"},{question:"What is the name of NewJeans' lighstick?",answers:["BinkyBong","BunnyBong","CandyBong","SarangniBong"],correctAnswer:"BinkyBong"},{question:"When does NewJeans make their debut?",answers:["April 22, 2022","July 22, 2023","July 22, 2022","April 22, 2021"],correctAnswer:"July 22, 2022"},{question:"What does NewJeans' second album titled?",answers:["SuperShy","Get Up","New Jeans","OMG"],correctAnswer:"Get Up"},{question:"Who's Bbangsaz?",answers:["Minji-Haerin","Hanni-Haerin","Hanni-Hyein","Hanni-Minji"],correctAnswer:"Hanni-Minji"},{question:"Which NewJeans song has the shortest duration?",answers:["ASAP","Hurt","Get Up","New Jeans"],correctAnswer:"Get Up"},{question:"Who's Vanessa Kang?",answers:["Haerin","Hyein","Danielle","Minji"],correctAnswer:"Haerin"}];function showRandomFinishText(){const e=Math.floor(Math.random()*randomFinishTexts.length),t=randomFinishTexts[e],n=document.getElementById("finish");n.textContent=t,n.style.display="block"}function showRandomText(){const e=Math.floor(Math.random()*randomTexts.length),t=randomTexts[e];document.getElementById("uncompleted").textContent=t,uncompletedText.style.display="block"}function showRandomImage(){const e=Math.floor(Math.random()*randomImageURLs.length),t=randomImageURLs[e],n=document.querySelector(".result-image"),o=document.querySelector(".result-image-container");n.src=t,o.style.display="block"}function shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}function shuffleQuestionsAndAnswers(){shuffleArray(questions);for(const e of questions)shuffleArray(e.answers)}function startTimer(){timerId=setInterval((function(){timeLeft--,timeLeft>=0?document.getElementById("timer").textContent=`Time left: ${timeLeft}`:(clearInterval(timerId),showNextModal())}),1e3)}shuffleQuestionsAndAnswers();const overlay=document.getElementById("overlay"),countdownElement=document.getElementById("countdown");function startCountdown(){let e=3;backDrop.style.display="block",countdownElement.textContent=e,countdownInterval=setInterval((()=>{e--,countdownElement.textContent=e,1===e&&(countdownElement.textContent="Start!",countdownElement.style.color="#8C52FF"),0===e&&(clearInterval(countdownInterval),countdownElement.textContent="",overlay.style.display="none",quizInfo.style.display="none",mainSection.style.display="flex",nextButton.style.display="flex",backDrop.style.display="none",showQuestion(currentQuestion),isQuizSession=!0,startTimer())}),1e3)}function showNameModal(){const e=document.getElementById("nameModal");backDrop.style.display="block",e.style.display="block"}function showlengthModal(){document.getElementById("lengthModal").style.display="block",backDrop.style.display="block"}function showWarningModal(){document.getElementById("warningModal").style.display="block",backDrop.style.display="block"}function showNextModal(){clearInterval(countdownInterval),clearInterval(timerId);document.getElementById("nextModal").style.display="block",backDrop.style.display="block",timeLeft=20}function showCertificate(){certificateContainer.style.display="block",userNameCertificate.textContent=userNameInput.value;const e=(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});dateText.textContent=e}function showQuestion(e){const t=questions[e];questionNumber.textContent=`No : ${e+1}/${questions.length}`,questionHeader.textContent=t.question,answerOptions.innerHTML="",t.answers.forEach(((e,t)=>{const n=document.createElement("div");n.className="answer",n.innerHTML=`\n            <input type="radio" name="answer" id="answer${t+1}" value="${e}">\n            <label for="answer${t+1}">${e}</label>\n        `,answerOptions.appendChild(n)})),e===questions.length?(clearInterval(timerId),nextButton.style.display="none",playAgainButton.style.display="flex"):(nextButton.style.display="flex",playAgainButton.style.display="none")}function captureCertificate(){html2canvas(document.querySelector(".certificate-container"),{logging:!0,letterRendering:1,useCORS:!0,scale:3}).then((e=>{const t=e.toDataURL("image/png"),n=document.createElement("a");n.download="bunnies-certificate(hnnxzee@github.io).png",n.href=t,n.click()}))}document.getElementById("closeModal").addEventListener("click",(function(){document.getElementById("nameModal").style.display="none",backDrop.style.display="none"})),document.getElementById("closelengthWarning").addEventListener("click",(function(){document.getElementById("lengthModal").style.display="none",backDrop.style.display="none"})),document.getElementById("closeModalWarning").addEventListener("click",(function(){document.getElementById("warningModal").style.display="none",backDrop.style.display="none"})),playButton.addEventListener("click",(function(){const e=userNameInput.value.trim();""!==e?e.length>25?showlengthModal():(shuffleQuestionsAndAnswers(),overlay.style.display="flex",startCountdown()):showNameModal()})),document.getElementById("nextModalButton").addEventListener("click",(function(){document.getElementById("nextModal").style.display="none",backDrop.style.display="none",currentQuestion++,clearInterval(countdownInterval),currentQuestion<questions.length?(showQuestion(currentQuestion),startTimer()):(mainSection.style.display="none",resultSection.style.display="block",playAgainButton.style.display="flex",scoreText.textContent=`Score = ${score}`,showRandomText(),showRandomImage())})),window.addEventListener("beforeunload",(function(e){isQuizSession&&(e.preventDefault(),e.returnValue="")})),nextButton.addEventListener("click",(function(){const e=document.querySelector('input[name="answer"]:checked');if(e){const t=e.value,n=questions[currentQuestion].correctAnswer;timeLeft=20,t===n&&score++,currentQuestion++,currentQuestion<questions.length?showQuestion(currentQuestion):score===questions.length?(showCertificate(),showRandomFinishText(),mainSection.style.display="none",downloadCert.style.display="flex",playAgainButton.style.display="flex",isQuizSession=!1,clearInterval(timerId),clearInterval(countdownInterval),confettiAnimation.style.display="flex",initConfetti(),render()):(mainSection.style.display="none",resultSection.style.display="block",playAgainButton.style.display="flex",clearInterval(timerId),clearInterval(countdownInterval),scoreText.textContent=`Score = ${score}/${questions.length}`,showRandomText(),showRandomImage())}else showWarningModal()})),playAgainButton.addEventListener("click",(function(){isQuizSession=!1,location.reload()}));const captureButton=document.getElementById("captureButton");captureButton.addEventListener("click",captureCertificate);